<ion-header *ngIf="!isView" class="ion-no-border">
  <ion-toolbar>
    <div class="content-header">
      <ion-avatar slot="start">
        <ion-icon name="person-outline"></ion-icon>
      </ion-avatar>
      <ion-label>Hello {{firstName}}, </ion-label>
    </div>
  </ion-toolbar>
</ion-header>

<ion-header *ngIf="isView" class="ion-no-border">
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col size="auto"
          ><ion-icon name="arrow-back" (click)="backHome()"></ion-icon
        ></ion-col>
        <ion-col size="9.8"> Transaction History</ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing..."
    >
    </ion-refresher-content>
  </ion-refresher>
  <!-- ion-card -->
  <div class="ion-padding">
    <ion-slides
      (ionSlideDidChange)="slideChanged($event)"
      class="my-slides"
      [options]="{ slidesPerView:1 }"
      pager
    >
      <ion-slide
        class="card"
        *ngFor="let account of multipleAccounts; let i = index"
      >
        <app-card
          [accountBalance]="account.availableBalance"
          [accountNumber]="account.accountNumber"
        >
        </app-card>
      </ion-slide>
    </ion-slides>
  </div>

  <div *ngIf="!isView" class="sections">
    <div class="innercontainer" routerLink="/new-tab/hometab/transfer">
      <img id="circle" src="../../assets/images/int-transfer.png" />
      <a>Same Transfer</a>
    </div>

    <div class="innercontainer" routerLink="/other-transfer">
      <img id="circle" src="../../assets/images/bank-transfer.png" />
      <a>Other Banks</a>
    </div>

    <div class="innercontainer" routerLink="/manage-beneficiaries">
      <img id="circle" src="../../assets/images/user-profile.png" />
      <a>Beneficiaries</a>
    </div>

    <div class="innercontainer" routerLink="/new-tab/hometab/top-up">
      <img id="circle" src="../../assets/images/arrows.png" />
      <a>Top Up</a>
    </div>

    <div class="innercontainer" routerLink="/pay-bills">
      <img id="circle" src="../../assets/images/bill.png" />
      <a>Pay Bills</a>
    </div>
  </div>

  <div class="transaction-container">
    <div
      class="header"
      [class.isView]="isView"
      [style.justify-content]="!isView ? 'space-around' : '' "
    >
      <h3 class="title" *ngIf="!isView">Recent Transactions</h3>
      <!-- Route to transaction history page -->
      <p class="view-more" *ngIf="!isView" (click)="ViewMore()">View More</p>
      <ion-searchbar
        fill="none"
        *ngIf="isView"
        class="searchbar"
        [debounce]="1000"
        (ionChange)="handleSearchInput($event)"
      ></ion-searchbar>
      <ion-icon name="funnel" class="funnel-icon" *ngIf="isView"></ion-icon>
    </div>
    <!-- Transaction History -->
    <app-transactions [accountHist]="filteredAccountHistory"></app-transactions>
  </div>
</ion-content>
